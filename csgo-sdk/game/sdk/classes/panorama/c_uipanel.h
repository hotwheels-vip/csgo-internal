#pragma once
#include "../../includes/includes.h"
#include "panorama.h"
#include <cstdint>

struct panel_array_slot {
	c_uipanel* panel;
	void* unk1;
	void* unk2;
	uint32_t some_symbol;
	uint32_t boolean;
};

struct panel_array {
	void* _pad;
	uint32_t size;
	uint32_t unk;
	c_utl_vector< panel_array_slot > slots;
};

class c_uipanel
{
public:
	virtual void destroy( void )                                                  = 0; // 0
	virtual void initialize( c_uiwindow*, c_uipanel*, const char*, unsigned int ) = 0;
	virtual void init_cloned_panel( c_uipanel* other )                            = 0;
	virtual void register_event_handlers_on_panel_2d_type( c_panoramasymbol )     = 0;
	virtual void shutdown( void )                                                 = 0;
	virtual void fire_panel_loaded_event( void )                                  = 0;
	virtual void set_client_ptr( c_uipanelclient* )                               = 0;
	virtual c_uipanelclient* client_ptr( )                                        = 0;
	virtual void set_id( const char* id )                                         = 0;
	virtual const char* get_id( void )                                            = 0; // ID in the XML, (EX: <Panel id="ShopCourierControls">)
	virtual void get_panel_type( void )                                           = 0;
	virtual bool has_id( )                                                        = 0;
	virtual bool bload_layout( const char* file, bool* override_existing, bool* partial_layout )                   = 0;
	virtual bool load_layout( const char* file, bool override_existing = false, bool partial_layout = false )      = 0; // input the xml path as arg
	virtual bool bload_layout_from_string( const char* xml_string, bool* override_existing, bool* partial_layout ) = 0;
	virtual bool load_layout_from_string( const char* xml_string, bool override_existing = false,
	                                      bool partial_layout = false ) = 0; // input the direct xml code as arg
	virtual bool bload_layout_snippet( const char* xml_snippet, bool* override_existing, bool* partial_layout )              = 0;
	virtual bool load_layout_snippet( const char* xml_snippet, bool override_existing = false, bool partial_layout = false ) = 0; // xml snippet
	virtual void unk( )                                                                                                      = 0;
	virtual void load_layout_async( const char* file, bool override_existing,
	                                bool partial_layout = false )                        = 0; // asynchronously supporting remote http:// paths
	virtual void load_layout_from_string_async( const char* xml_string, bool override_existing,
	                                            bool partial_layout = false )            = 0; // asynchronously supporting remote http:// paths
	virtual bool create_children( const char* )                                          = 0;
	virtual void unload_layout( void )                                                   = 0;
	virtual bool is_loaded( void )                                                       = 0;
	virtual void set_parent( c_uipanel* parent )                                         = 0;
	virtual c_uipanel* get_parent( void )                                                = 0;
	virtual c_uiwindow* get_parent_window( void )                                        = 0;
	virtual void set_visible( bool state )                                               = 0;
	virtual bool is_visible( void )                                                      = 0;
	virtual bool is_transparent( void )                                                  = 0;
	virtual void set_layout_loaded_from_parent( c_uipanel* parent )                      = 0;
	virtual void set_panel_into_context( c_uipanel* panel )                              = 0;
	virtual const char* get_layout_file( void )                                          = 0;
	virtual void get_layout_file_loaded_from( void )                                     = 0;
	virtual int get_layout_file_reload_count( void )                                     = 0;
	virtual void unk6( )                                                                 = 0;
	virtual void unk7( )                                                                 = 0;
	virtual void find_panel_something( const char* panel_name )                          = 0;
	virtual c_uipanel* find_child( const char* child_name )                              = 0;
	virtual void unk9( )                                                                 = 0;
	virtual c_uipanel* find_child_traverse( const char* child_name )                     = 0;
	virtual void unk10( )                                                                = 0;
	virtual c_uipanel* find_child_in_layout_file( const char* child_name_in_layout )     = 0;
	virtual void unk11( )                                                                = 0;
	virtual c_uipanel* find_panel_in_layout_file( const char* panel_name_in_layout )     = 0;
	virtual bool is_decendant_of( c_uipanel const* const )                               = 0;
	virtual void remove_and_delete_children( void )                                      = 0;
	virtual void remove_and_delete_children_of_type( c_panoramasymbol type )             = 0;
	virtual int get_child_count( void )                                                  = 0;
	virtual c_uipanel* get_child( int child_index )                                      = 0;
	virtual c_uipanel* get_first_child( void )                                           = 0;
	virtual c_uipanel* get_last_child( void )                                            = 0;
	virtual int get_child_index( c_uipanel const* const child_panel )                    = 0;
	virtual int get_child_count_of_type( c_panoramasymbol type )                         = 0;
	virtual int get_hidden_child_count( void )                                           = 0;
	virtual c_uipanel* get_hidden_child( int hidden_child_index )                        = 0;
	virtual c_uipanel* find_ancestor( const char* ancestor_name )                        = 0;
	virtual void sub_131D10( )                                                           = 0; // new function, added around august 2018
	virtual void set_repaint( panel_repaint_t repaint )                                  = 0;
	virtual void set_repaint_up_parent_chain( void* unk )                                = 0;
	virtual bool should_draw_children( c_uipanel* child )                                = 0;
	virtual void enable_background_movies( bool state )                                  = 0;
	virtual c_uipanelstyle* access_c_uistyle( )                                          = 0;
	virtual c_uipanelstyle* access_c_uistyle_dirty( )                                    = 0;
	virtual void apply_styles( bool apply )                                              = 0;
	virtual void after_styles_applied( bool, style_repaint_t, bool, bool )               = 0;
	virtual void set_on_styles_changed_needed( void )                                    = 0;
	virtual void* access_children( void )                                                = 0;
	virtual void desired_layout_size_traverse( float width, float height )               = 0;
	virtual void desired_layout_size_traverse( float*, float*, float, float, bool )      = 0;
	virtual void on_content_size_traverse( float*, float*, float, float, bool )          = 0;
	virtual void layout_traverse( float, float, float, float )                           = 0;
	virtual void on_layout_traverse( float, float )                                      = 0;
	virtual void set_position_from_layout_traverse( c_uilength, c_uilength, c_uilength ) = 0;
	virtual void invalidate_size_and_position( void )                                    = 0;
	virtual void invalidate_positions( void )                                            = 0;
	virtual void set_active_size_and_position_transition( void )                         = 0;
	virtual void set_active_position_transition( void )                                  = 0;
	virtual bool is_size_valid( void )                                                   = 0;
	virtual bool is_position_valid( void )                                               = 0;
	virtual bool is_child_size_valid( void )                                             = 0;
	virtual bool is_child_position_valid( void )                                         = 0;
	virtual bool is_size_transitioning( void )                                           = 0;
	virtual bool is_position_transitioning( void )                                       = 0;
	virtual bool is_child_position_transitioning( void )                                 = 0;
	virtual bool is_child_size_transitioning( void )                                     = 0;
	virtual void transition_position_applied( bool )                                     = 0;
	virtual void sub_140EE0( )                                                           = 0;
	virtual void sub_140F00( )                                                           = 0;
	virtual float get_desired_layout_width( void )                                       = 0; // these might be doubles, need to "double"-check
	virtual float get_desired_layout_height( void )                                      = 0;
	virtual float get_content_width( void )                                              = 0;
	virtual float get_content_height( void )                                             = 0;
	virtual float get_actual_layout_width( void )                                        = 0;
	virtual float get_actual_layout_height( void )                                       = 0;
	virtual float get_actual_render_weight( void )                                       = 0;
	virtual float get_actual_render_height( void )                                       = 0;
	virtual float get_actual_x_offset( void )                                            = 0;
	virtual float get_actual_y_offset( void )                                            = 0;
	virtual float get_raw_actual_x_offset( void )                                        = 0;
	virtual float get_raw_actual_y_offset( void )                                        = 0;
	virtual void unk12( )                                                                = 0;
	virtual void sub_140FC0( )                                                           = 0;
	virtual float get_contents_y_scroll_offset( void )                                   = 0;
	virtual float get_contents_x_scroll_offset( void )                                   = 0;
	virtual void unk_131A10( )                                                           = 0;
	virtual void unk_152250( )                                                           = 0;
	virtual void unk_152230( )                                                           = 0;
	virtual void unk_1522A0( )                                                           = 0;
	virtual void unk_152270( )                                                           = 0;
	virtual void unk_1522D0( )                                                           = 0;
	virtual void unk_1522F0( )                                                           = 0;
	virtual void unk_152310( )                                                           = 0;
	virtual void unk_152330( )                                                           = 0;
	virtual void unk_152350( )                                                           = 0;
	virtual void unk_152380( )                                                           = 0;
	virtual void unk_131080( )                                                           = 0;
	virtual void unk_1310F0( )                                                           = 0;
	virtual void unk_134E50( )                                                           = 0;
	virtual void unk_1350C0( )                                                           = 0;
	virtual void unk_134EF0( )                                                           = 0;
	virtual void unk_135450( )                                                           = 0;
	virtual void unk_135470( )                                                           = 0;
	virtual void unk_131710( )                                                           = 0;
	virtual void unk_131760( )                                                           = 0;
	virtual bool can_scroll_up( void )                                                   = 0;
	virtual bool can_scroll_down( void )                                                 = 0;
	virtual bool can_scroll_left( void )                                                 = 0;
	virtual bool can_scroll_right( void )                                                = 0;
	virtual void add_class( const char* )                                                = 0;
	virtual void add_class( c_panoramasymbol )                                           = 0;
	virtual void add_classes( c_panoramasymbol*, unsigned int count )                    = 0;
	virtual void remove_class( const char* )                                             = 0;
	virtual void remove_classes( c_panoramasymbol const* const, unsigned int )           = 0;
	virtual void remove_classes( const char* )                                           = 0;
	virtual void remove_all_classes( void )                                              = 0;
	virtual void sub_137540( )                                                           = 0;
	virtual void* get_classes( void )                                                    = 0;
	virtual bool has_class( const char* )                                                = 0;
	virtual bool has_class( c_panoramasymbol )                                           = 0;
	virtual bool ascendant_has_class( const char* )                                      = 0;
	virtual bool ascendant_has_class( c_panoramasymbol )                                 = 0;
	virtual void toggle_class( const char* )                                             = 0;
	virtual void toggle_class( c_panoramasymbol )                                        = 0;
	virtual void set_has_class( const char*, bool )                                      = 0;
	virtual void set_has_class( c_panoramasymbol, bool )                                 = 0;
	virtual void switch_class( const char*, const char* )                                = 0;
	virtual void switch_class( const char*, c_panoramasymbol )                           = 0;
	virtual void unk_149DF0( )                                                           = 0;
	virtual void unk_149D50( )                                                           = 0;
	virtual void unk_149EB0( )                                                           = 0;
	virtual void unk_149E50( )                                                           = 0;
	virtual bool accepts_input( )                                                        = 0;
	virtual void set_accepts_input( bool state )                                         = 0;
	virtual bool accepts_focus( )                                                        = 0;
	virtual void set_accepts_focus( bool state )                                         = 0;
	virtual bool can_accept_input( )                                                     = 0;
	virtual void set_default_focus( const char* )                                        = 0;
	virtual const char* get_default_focus( )                                             = 0;
	virtual void set_disable_focus_on_mouse_down( bool state )                           = 0;
	virtual bool focus_on_mouse_down( )                                                  = 0;
	virtual void unk_152460( )                                                           = 0;
	virtual void unk_1523E0( )                                                           = 0;
	virtual void unk_130E80( )                                                           = 0;
	virtual void unk_130EB0( )                                                           = 0;
	virtual void unk_152400( )                                                           = 0;
	virtual void unk_152420( )                                                           = 0;
	virtual void unk_152470( )                                                           = 0;
	virtual void unk_152490( )                                                           = 0;
	virtual void unk_1318C0( )                                                           = 0;
	virtual void get_default_input_focus( void )                                         = 0;
	virtual void set_focus( void )                                                       = 0;
	virtual void update_focus_in_context( void )                                         = 0;
	virtual void set_focus_due_to_hover( void )                                          = 0;
	virtual void set_input_context_focus( void )                                         = 0;
	virtual unsigned long long get_style_flags( void )                                   = 0;
	virtual void add_style_flag( style_flags_t )                                         = 0;
	virtual void remove_style_flag( style_flags_t )                                      = 0;
	virtual bool is_inspected( void )                                                    = 0;
	virtual bool has_hover_style( bool )                                                 = 0;
	virtual void set_selected( bool state )                                              = 0;
	virtual bool is_selected( void )                                                     = 0;
	virtual bool has_key_focus( void )                                                   = 0;
	virtual bool has_descendant_key_focus( void )                                        = 0;
	virtual bool is_layout_loading( void )                                               = 0;
	virtual void set_enabled( bool state )                                               = 0;
	virtual bool is_enabled( void )                                                      = 0;
	virtual void unk_146920( )                                                           = 0;
	virtual void unk_1525B0( )                                                           = 0;
	virtual void unk13( )                                                                = 0;
	virtual void sub_125010( )                                                           = 0;
	virtual void set_all_children_activation_enabled( bool state )                       = 0;
	virtual void set_hit_test_enabled( bool state )                                      = 0;
	virtual bool hit_test_enabled( void )                                                = 0;
	virtual void set_hit_test_enabled_traverse( bool state )                             = 0;
	virtual void unk_152630( )                                                           = 0;
	virtual void unk_152660( )                                                           = 0;
	virtual void set_draggable( bool state )                                             = 0;
	virtual bool is_draggable( void )                                                    = 0;
	virtual void set_remember_child_focus( bool state )                                  = 0;
	virtual bool get_remember_child_focus( void )                                        = 0;
	virtual void clear_last_child_focus( void )                                          = 0;
	virtual void set_needs_intermediate_texture( bool state )                            = 0;
	virtual bool get_needs_intermediate_texture( void )                                  = 0;
	virtual void unk_152DE0( )                                                           = 0;
	virtual void unk_152E40( )                                                           = 0;
	virtual void set_clip_after_transform( bool state )                                  = 0;
	virtual bool get_clip_after_transform( void )                                        = 0;
	virtual const char* get_input_namespace( void )                                      = 0;
	virtual void set_input_namespace( const char* )                                      = 0;
	virtual void mark_styles_dirty( bool state )                                         = 0;
	virtual bool styles_dirty( void )                                                    = 0;
	virtual void sub_12A000( )                                                           = 0;
	virtual bool child_styles_dirty( )                                                   = 0;
	virtual bool parse_panel_event( c_panoramasymbol, const char* )                      = 0;
	virtual bool is_panel_event_set( c_panoramasymbol )                                  = 0;
	virtual bool is_panel_event( c_panoramasymbol )                                      = 0;
	virtual void dispatch_panel_event( c_panoramasymbol )                                = 0;
	virtual void* get_javascript_context_parent( void )                                  = 0;
	virtual void* ui_image_manager( void )                                               = 0;
	virtual void* ui_render_engine( void )                                               = 0;
	virtual void* unk_130DF0( )                                                          = 0; // returns another class like the 2 above
	virtual void paint_traverse( void )                                                  = 0;
	virtual void set_tab_index( float )                                                  = 0;
	virtual float get_tab_index( void )                                                  = 0;
	virtual void set_selection_position( float x, float y )                              = 0;
	virtual void set_selection_position_x( float x )                                     = 0;
	virtual void set_selection_position_y( float y )                                     = 0;
	virtual float get_selection_position_x( void )                                       = 0;
	virtual float get_selection_position_y( void )                                       = 0;
	virtual float get_tab_index_raw( void )                                              = 0;
	virtual float get_selection_position_x_raw( void )                                   = 0;
	virtual float get_selection_position_y_raw( void )                                   = 0;
	virtual void set_focus_to_next_panel( int, focus_move_direction_t, bool, float, float, float, float, float ) = 0;
	virtual void set_input_focus_to_first_or_last_child_in_focus_order( focus_move_direction_t, float, float )   = 0;
	virtual void selection_pos_vertical_boundary( void )                                                         = 0;
	virtual void selection_pos_horizontal_boundary( void )                                                       = 0;
	virtual void set_child_focus_on_hover( bool state )                                                          = 0;
	virtual bool get_child_focus_on_hover( void )                                                                = 0;
	virtual void set_focus_on_hover( bool state )                                                                = 0;
	virtual bool get_focus_on_hover( void )                                                                      = 0;
	virtual void scroll_to_top( void )                                                                           = 0;
	virtual void scroll_to_bottom( void )                                                                        = 0;
	virtual void scroll_to_left_edge( void )                                                                     = 0;
	virtual void scroll_to_right_edge( void )                                                                    = 0;
	virtual void scroll_parent_to_make_panel_fit( scroll_behavior_t, bool )                                      = 0;
	virtual void scroll_to_fit_region( float, float, float, float, scroll_behavior_t, bool, bool )               = 0;
	virtual bool can_see_in_parent_scroll( void )                                                                = 0;
	virtual void on_scroll_position_changed( void )                                                              = 0;
	virtual void set_send_child_scrolled_into_view_events( bool )                                                = 0;
	virtual void on_check_children_scrolled_into_view( void )                                                    = 0;
	virtual void fire_scrolled_into_view_event( void )                                                           = 0;
	virtual void fire_scrolled_out_of_view_event( void )                                                         = 0;
	virtual bool is_scrolled_into_view( void )                                                                   = 0;
	virtual void sort_children( )           = 0; // (int (*)(c_uipanelclient * const*,c_uipanelclient * const*))
	virtual void add_child( c_uipanel* )    = 0;
	virtual void add_child_sorted( )        = 0; // (bool (*)(c_uipanelclient * const&,c_uipanelclient * const&),c_uipanel *)
	virtual void resort_child( )            = 0; // (bool (*)(c_uipanelclient * const&,c_uipanelclient * const&),c_uipanel *)
	virtual void remove_child( c_uipanel* ) = 0;
	virtual void unk_139310( )              = 0;
	virtual void unk_1393C0( )              = 0;
	virtual void unk_131260( )              = 0;
	virtual void unk_131270( )              = 0;
	virtual void set_mouse_can_activate( mouse_can_activate_t, const char* ) = 0;
	virtual mouse_can_activate_t get_mouse_can_activate( void )              = 0;
	virtual c_uipanel* find_parent_for_mouse_can_activate( void )            = 0;
	virtual bool reload_layout( c_panoramasymbol )                           = 0;
	virtual void reload_style_file_traverse( c_panoramasymbol )              = 0;
	virtual bool has_on_activate_event( void )                               = 0;
	virtual bool has_on_mouse_activate_event( void )                         = 0;
	virtual void setup_javascript_object_template( void )                    = 0;
	virtual void set_layout_file( c_panoramasymbol )                         = 0;
	virtual void build_matching_style_list( )               = 0; // (CUtlVector<CascadeStyleFileInfo_t,CUtlMemory<CascadeStyleFileInfo_t,int>> *)
	virtual void get_attribute( const char*, int )          = 0;
	virtual void get_attribute( const char*, const char* )  = 0;
	virtual void unk_132680( )                              = 0;
	virtual void get_attribute( const char*, unsigned int ) = 0;
	virtual void get_attribute( const char*, unsigned long long )                                                       = 0;
	virtual void set_attribute( const char*, int )                                                                      = 0;
	virtual void set_attribute( const char*, const char* )                                                              = 0;
	virtual void set_attribute( const char*, unsigned int )                                                             = 0;
	virtual void set_attribute( const char*, unsigned long long )                                                       = 0;
	virtual void set_attribute( )                                                                                       = 0;
	virtual void unk_132770( )                                                                                          = 0;
	virtual void unk_132830( )                                                                                          = 0;
	virtual void unk_132810( )                                                                                          = 0;
	virtual void unk_1327C0( )                                                                                          = 0;
	virtual void unk_132880( )                                                                                          = 0;
	virtual void unk_13D2D0( )                                                                                          = 0;
	virtual void unk_13D110( )                                                                                          = 0;
	virtual void unk_13D350( )                                                                                          = 0;
	virtual void unk_13D3D0( )                                                                                          = 0;
	virtual void unk_13D450( )                                                                                          = 0;
	virtual void unk_13D950( )                                                                                          = 0;
	virtual void unk_13D870( )                                                                                          = 0;
	virtual void unk_13D690( )                                                                                          = 0;
	virtual void unk_13D420( )                                                                                          = 0;
	virtual void set_animation( const char*, float, float, animation_timing_function, animation_direction, float )      = 0;
	virtual void update_visibility( bool )                                                                              = 0;
	virtual void unk14( )                                                                                               = 0;
	virtual void set_property( c_panoramasymbol, const char* )                                                          = 0;
	virtual void find_children_with_class( const char* cclass, c_utl_vector< c_uipanel* >& matching_children )          = 0;
	virtual void find_children_with_class_traverse( const char* cclass, c_utl_vector< c_uipanel* >& matching_children ) = 0;
	virtual void play_focus_change_sound( int, float )                                                                  = 0;
	virtual void unk15( )                                                                                               = 0;
	virtual void clear_panel_events( c_panoramasymbol panel_event )                                                     = 0;
	virtual void set_panel_event( c_panoramasymbol panel_event, c_uievent* events )                                     = 0;
	virtual void set_panel_event( c_panoramasymbol panel_event, c_utl_vector< c_uievent* >* events )                    = 0;
	virtual bool get_analog_stick_scrolling_enabled( void )                                                             = 0;
	virtual void enable_analog_stick_scrolling( bool state )                                                            = 0;
	virtual void set_mouse_tracking( bool state )                                                                       = 0;
	virtual void set_in_scrollbar_construction( bool state )                                                            = 0;
	virtual void* get_vertical_scrollbar( void )                                                                        = 0;
	virtual void* get_horizontal_scrollbar( void )                                                                      = 0;
	virtual void get_panel_events( c_panoramasymbol )                                                                   = 0;
	virtual bool has_been_layed_out( void )                                                                             = 0;
	virtual void on_style_transitions_cleanup( void )                                                                   = 0;
	virtual void unk_1529D0( )                                                                                          = 0;
	virtual void unk_1529F0( )                                                                                          = 0;
	virtual void unk_152A00( )                                                                                          = 0;
	virtual void unk_152A20( )                                                                                          = 0;
	virtual void unk_136B20( )                                                                                          = 0;
	virtual void unk_152A30( )                                                                                          = 0;
	virtual void unk_139260( )                                                                                          = 0;
	virtual void unk_1331A0( )                                                                                          = 0;
	virtual void unk_1529A0( )                                                                                          = 0;
	virtual void unk_1529B0( )                                                                                          = 0;
	virtual void unk_1529C0( )                                                                                          = 0;
};
